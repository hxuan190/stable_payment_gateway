# =============================================================================
# HEXAGONAL ARCHITECTURE CONFIGURATION
# Configuration for Ports & Adapters Pattern
# Last Updated: 2025-11-20
# =============================================================================

# Environment
ENV=development

# =============================================================================
# BLOCKCHAIN LISTENER CONFIGURATION
# =============================================================================

# Enabled blockchains (comma-separated: solana, bsc, tron)
ENABLED_BLOCKCHAINS=solana,bsc

# -----------------------------------------------------------------------------
# SOLANA CONFIGURATION
# -----------------------------------------------------------------------------
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com
SOLANA_WALLET_PRIVATE_KEY=your_base58_private_key_here
SOLANA_WALLET_ADDRESS=YourSolanaWalletAddress

# Supported tokens (format: SYMBOL:MintAddress,SYMBOL:MintAddress)
# Devnet USDC: 4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
# Mainnet USDT: Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB
# Mainnet USDC: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
SOLANA_SUPPORTED_TOKENS=USDC:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU

# Listener settings
SOLANA_POLL_INTERVAL_SECONDS=5
SOLANA_REQUIRED_CONFIRMATIONS=1
SOLANA_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# BSC (BNB CHAIN) CONFIGURATION
# -----------------------------------------------------------------------------
BSC_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
BSC_WALLET_PRIVATE_KEY=your_hex_private_key_here
BSC_WALLET_ADDRESS=0xYourBSCWalletAddress

# Supported tokens (format: SYMBOL:ContractAddress,SYMBOL:ContractAddress)
# Testnet USDT: 0x337610d27c682E347C9cD60BD4b3b107C9d34dDd
# Mainnet USDT: 0x55d398326f99059fF775485246999027B3197955
# Mainnet BUSD: 0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56
BSC_SUPPORTED_TOKENS=USDT:0x337610d27c682E347C9cD60BD4b3b107C9d34dDd

# Listener settings
BSC_POLL_INTERVAL_SECONDS=10
BSC_REQUIRED_CONFIRMATIONS=15
BSC_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# TRON CONFIGURATION (Future Implementation)
# -----------------------------------------------------------------------------
# TRON_RPC_URL=https://api.shasta.trongrid.io
# TRON_WALLET_PRIVATE_KEY=your_tron_private_key_here
# TRON_WALLET_ADDRESS=TYourTronWalletAddress
# TRON_SUPPORTED_TOKENS=USDT:TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
# TRON_POLL_INTERVAL_SECONDS=5
# TRON_REQUIRED_CONFIRMATIONS=19
# TRON_MAX_RETRIES=3

# =============================================================================
# SETTLEMENT PROVIDER CONFIGURATION
# =============================================================================

# Settlement provider (options: manual, onefin, binance_p2p)
SETTLEMENT_PROVIDER=manual

# Settlement limits (VND)
MIN_SETTLEMENT_AMOUNT_VND=1000000      # 1M VND (~$42 USD)
MAX_SETTLEMENT_AMOUNT_VND=100000000    # 100M VND (~$4,200 USD)
DEFAULT_SETTLEMENT_SPREAD=0.01         # 1% spread

# -----------------------------------------------------------------------------
# MANUAL SETTLEMENT CONFIGURATION
# -----------------------------------------------------------------------------
# For manual settlements, ops team manually executes bank transfers
# No additional configuration needed

# -----------------------------------------------------------------------------
# ONEFIN SETTLEMENT CONFIGURATION
# -----------------------------------------------------------------------------
ONEFIN_API_URL=https://api.onefin.vn/v1
ONEFIN_API_KEY=your_onefin_api_key_here
ONEFIN_API_SECRET=your_onefin_api_secret_here
ONEFIN_TIMEOUT_SECONDS=30
ONEFIN_MIN_SETTLEMENT_AMOUNT_VND=5000000    # 5M VND
ONEFIN_MAX_SETTLEMENT_AMOUNT_VND=500000000  # 500M VND

# -----------------------------------------------------------------------------
# BINANCE P2P SETTLEMENT CONFIGURATION (Future Implementation)
# -----------------------------------------------------------------------------
# BINANCE_P2P_API_URL=https://api.binance.com
# BINANCE_P2P_API_KEY=your_binance_api_key_here
# BINANCE_P2P_API_SECRET=your_binance_api_secret_here
# BINANCE_P2P_TIMEOUT_SECONDS=30

# =============================================================================
# EXCHANGE RATE PROVIDER
# =============================================================================
# Used for calculating VND amounts from crypto amounts
EXCHANGE_RATE_API_URL=https://api.coingecko.com/api/v3
EXCHANGE_RATE_CACHE_TTL_SECONDS=300  # 5 minutes

# =============================================================================
# EVENT BUS CONFIGURATION
# =============================================================================
# Event bus type (options: inmemory, redis, kafka)
EVENT_BUS_TYPE=inmemory

# For future distributed event bus implementations
# REDIS_EVENT_BUS_URL=redis://localhost:6379
# KAFKA_BROKERS=localhost:9092

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_db_password_here
DB_NAME=payment_gateway
DB_SSL_MODE=disable

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
# Health check intervals
BLOCKCHAIN_HEALTH_CHECK_INTERVAL_SECONDS=60
SETTLEMENT_HEALTH_CHECK_INTERVAL_SECONDS=300

# =============================================================================
# COMPLIANCE & AML
# =============================================================================
# TRM Labs configuration (existing)
TRM_API_KEY=your_trm_api_key_here
TRM_SCREENING_ENABLED=true

# Ops team email for alerts
OPS_TEAM_EMAILS=ops@yourcompany.com,compliance@yourcompany.com

# =============================================================================
# NOTES
# =============================================================================
# 1. For production, use mainnet RPC URLs and real wallet private keys
# 2. Keep private keys secure - use environment variables or secrets manager
# 3. Enable multiple blockchains by adding them to ENABLED_BLOCKCHAINS
# 4. Switch settlement providers by changing SETTLEMENT_PROVIDER value
# 5. Test on testnets before deploying to production
